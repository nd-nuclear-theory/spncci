Installation notes for spncci

  3/7/16 (aem,mac): Created.
  4/19/16 (mac): Updated.
  5/3/16 (mac): Updated.

----------------------------------------------------------------

Basic installation

*) Retrieving source:

  git clone --recursive ssh://crcfe01.crc.nd.edu/scratch365/mcaprio/git/spncci.git

  Or, locally on the ND CRC,

  git clone --recursive /scratch365/mcaprio/git/spncci.git

Then switch to the desired development branch, e.g.,

  git checkout u3devel

There are sometimes issues with retrieving the correct commit of the
am subpackage.  If issues arise...

  cd libraries/am
  git fetch
  git merge origin/master

*) Set up config.mk.  An example file config_generic-gcc4.mk is
provided.  If you are using GCC, you can start by simply copying this
example file to config.mk.  Or better, if you do not need to make any
edits, use a symbolic link:

   ln -s config_generic-gcc4.mk config.mk

That way, any updates to the generic config file will automatically be
reflected.

Make sure the appropriate compiler suite is loaded.  Note: Current
testing is on gcc 4.5..4.9.  Fails on gcc 4.4.

*) Make sure the Eigen 3 header files are installed somewhere
accessible, and add this path to config.mk.

Example:

   (1) We assume you have downloaded the distribution archive for
   Eigen 3.2.7 (eigen-eigen-b30b87236a1b.tar.gz) and that it is in
   your current working directory...

   (2) We are installing beneath your home directory, in
   $HOME/local/opt/eigen-3.2.7

   % tar xvf eigen-eigen-b30b87236a1b.tar.gz
   % mkdir --parents $HOME/local/opt/eigen-3.2.7/include/eigen3
   % mv eigen-eigen-b30b87236a1b/Eigen $HOME/local/opt/eigen-3.2.7/include/eigen3/
   % rm -r eigen-eigen-b30b87236a1b

Then set the search_prefix in config.mk to include this directory...

That is, if the eigen include files are

     $(HOME)/local/opt/eigen-3.2.7/include/eigen3/Eigen/{Array,Cholesky,...,Eigen,...}

then the search prefix list should include

     $(HOME)/local/opt/eigen-3.2.7

Thus, in config.mk, we should have

  # search prefix
  #
  #   additional path to search for required include and lib 
  #   directories
  #

  search_prefix := $(HOME)/local/opt/eigen-3.2.7

*) Make sure GSL is accessible, and that its path is properly
 specified in config.mk.

  On the ND CRC, this is simply a module load.  See below.

*) Load modules: On the ND CRC...

  module load gcc/4.9.2
  module load gsl
  module load boost/1.58

*) make all

If you encounter the error "cannot find -lm", then the math libraries
are not available for static linking on your installation. In
config.mk, comment out the line "CXXFLAGS += -static".

----------------------------------------------------------------

Compiling under OSX

Static linking to system libraries is problematic.  Cannot static link against libcrt0.
So do not include -static compiler flag in config.mk.

g++ may not automatically find boost under /usr/local/{include,lib}.
If so, add /usr/local to search_prefix in config.mk.

To install boost:

   brew install boost


3/816 (aem): Updating g++

brew install gcc --use-llvm

